{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.InternalTreeNode = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _contextTypes = require(\"./contextTypes\");\n\nvar _util = require(\"./util\");\n\nvar _Indent = _interopRequireDefault(require(\"./Indent\"));\n\nvar _treeUtil = require(\"./utils/treeUtil\");\n\nvar _excluded = [\"eventKey\", \"className\", \"style\", \"dragOver\", \"dragOverGapTop\", \"dragOverGapBottom\", \"isLeaf\", \"isStart\", \"isEnd\", \"expanded\", \"selected\", \"checked\", \"halfChecked\", \"loading\", \"domRef\", \"active\", \"data\", \"onMouseMove\"];\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\nvar defaultTitle = '---';\n\nvar InternalTreeNode = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(InternalTreeNode, _React$Component);\n\n  var _super = (0, _createSuper2.default)(InternalTreeNode);\n\n  function InternalTreeNode() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InternalTreeNode);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    _this.selectHandle = void 0;\n\n    _this.onSelectorClick = function (e) {\n      // Click trigger before select/check operation\n      var onNodeClick = _this.props.context.onNodeClick;\n      onNodeClick(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n\n      if (_this.isSelectable()) {\n        _this.onSelect(e);\n      } else {\n        _this.onCheck(e);\n      }\n    };\n\n    _this.onSelectorDoubleClick = function (e) {\n      var onNodeDoubleClick = _this.props.context.onNodeDoubleClick;\n      onNodeDoubleClick(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onSelect = function (e) {\n      if (_this.isDisabled()) return;\n      var onNodeSelect = _this.props.context.onNodeSelect;\n      e.preventDefault();\n      onNodeSelect(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onCheck = function (e) {\n      if (_this.isDisabled()) return;\n      var _this$props = _this.props,\n          disableCheckbox = _this$props.disableCheckbox,\n          checked = _this$props.checked;\n      var onNodeCheck = _this.props.context.onNodeCheck;\n      if (!_this.isCheckable() || disableCheckbox) return;\n      e.preventDefault();\n      var targetChecked = !checked;\n      onNodeCheck(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props), targetChecked);\n    };\n\n    _this.onMouseEnter = function (e) {\n      var onNodeMouseEnter = _this.props.context.onNodeMouseEnter;\n      onNodeMouseEnter(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onMouseLeave = function (e) {\n      var onNodeMouseLeave = _this.props.context.onNodeMouseLeave;\n      onNodeMouseLeave(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onContextMenu = function (e) {\n      var onNodeContextMenu = _this.props.context.onNodeContextMenu;\n      onNodeContextMenu(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onDragStart = function (e) {\n      var onNodeDragStart = _this.props.context.onNodeDragStart;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: true\n      });\n\n      onNodeDragStart(e, (0, _assertThisInitialized2.default)(_this));\n\n      try {\n        // ie throw error\n        // firefox-need-it\n        e.dataTransfer.setData('text/plain', '');\n      } catch (error) {// empty\n      }\n    };\n\n    _this.onDragEnter = function (e) {\n      var onNodeDragEnter = _this.props.context.onNodeDragEnter;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragEnter(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDragOver = function (e) {\n      var onNodeDragOver = _this.props.context.onNodeDragOver;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragOver(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDragLeave = function (e) {\n      var onNodeDragLeave = _this.props.context.onNodeDragLeave;\n      e.stopPropagation();\n      onNodeDragLeave(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDragEnd = function (e) {\n      var onNodeDragEnd = _this.props.context.onNodeDragEnd;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDragEnd(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDrop = function (e) {\n      var onNodeDrop = _this.props.context.onNodeDrop;\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDrop(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onExpand = function (e) {\n      var _this$props2 = _this.props,\n          loading = _this$props2.loading,\n          onNodeExpand = _this$props2.context.onNodeExpand;\n      if (loading) return;\n      onNodeExpand(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.setSelectHandle = function (node) {\n      _this.selectHandle = node;\n    };\n\n    _this.getNodeState = function () {\n      var expanded = _this.props.expanded;\n\n      if (_this.isLeaf()) {\n        return null;\n      }\n\n      return expanded ? ICON_OPEN : ICON_CLOSE;\n    };\n\n    _this.hasChildren = function () {\n      var eventKey = _this.props.eventKey;\n      var keyEntities = _this.props.context.keyEntities;\n\n      var _ref = keyEntities[eventKey] || {},\n          children = _ref.children;\n\n      return !!(children || []).length;\n    };\n\n    _this.isLeaf = function () {\n      var _this$props3 = _this.props,\n          isLeaf = _this$props3.isLeaf,\n          loaded = _this$props3.loaded;\n      var loadData = _this.props.context.loadData;\n\n      var hasChildren = _this.hasChildren();\n\n      if (isLeaf === false) {\n        return false;\n      }\n\n      return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n    };\n\n    _this.isDisabled = function () {\n      var disabled = _this.props.disabled;\n      var treeDisabled = _this.props.context.disabled;\n      return !!(treeDisabled || disabled);\n    };\n\n    _this.isCheckable = function () {\n      var checkable = _this.props.checkable;\n      var treeCheckable = _this.props.context.checkable; // Return false if tree or treeNode is not checkable\n\n      if (!treeCheckable || checkable === false) return false;\n      return treeCheckable;\n    };\n\n    _this.syncLoadData = function (props) {\n      var expanded = props.expanded,\n          loading = props.loading,\n          loaded = props.loaded;\n      var _this$props$context = _this.props.context,\n          loadData = _this$props$context.loadData,\n          onNodeLoad = _this$props$context.onNodeLoad;\n\n      if (loading) {\n        return;\n      }\n\n      ; // read from state to avoid loadData at same time\n\n      if (loadData && expanded && !_this.isLeaf()) {\n        // We needn't reload data when has children in sync logic\n        // It's only needed in node expanded\n        if (!_this.hasChildren() && !loaded) {\n          onNodeLoad((0, _treeUtil.convertNodePropsToEventData)(_this.props));\n        }\n      }\n    };\n\n    _this.renderSwitcherIconDom = function (isLeaf) {\n      var switcherIconFromProps = _this.props.switcherIcon;\n      var switcherIconFromCtx = _this.props.context.switcherIcon;\n      var switcherIcon = switcherIconFromProps || switcherIconFromCtx; // if switcherIconDom is null, no render switcher span\n\n      if (typeof switcherIcon === 'function') {\n        return switcherIcon((0, _objectSpread2.default)((0, _objectSpread2.default)({}, _this.props), {}, {\n          isLeaf: isLeaf\n        }));\n      }\n\n      return switcherIcon;\n    };\n\n    _this.renderSwitcher = function () {\n      var expanded = _this.props.expanded;\n      var prefixCls = _this.props.context.prefixCls;\n\n      if (_this.isLeaf()) {\n        // if switcherIconDom is null, no render switcher span\n        var _switcherIconDom = _this.renderSwitcherIconDom(true);\n\n        return _switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n          className: (0, _classnames.default)(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher-noop\"))\n        }, _switcherIconDom) : null;\n      }\n\n      var switcherCls = (0, _classnames.default)(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher_\").concat(expanded ? ICON_OPEN : ICON_CLOSE));\n\n      var switcherIconDom = _this.renderSwitcherIconDom(false);\n\n      return switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: _this.onExpand,\n        className: switcherCls\n      }, switcherIconDom) : null;\n    };\n\n    _this.renderCheckbox = function () {\n      var _this$props4 = _this.props,\n          checked = _this$props4.checked,\n          halfChecked = _this$props4.halfChecked,\n          disableCheckbox = _this$props4.disableCheckbox;\n      var prefixCls = _this.props.context.prefixCls;\n\n      var disabled = _this.isDisabled();\n\n      var checkable = _this.isCheckable();\n\n      if (!checkable) return null; // [Legacy] Custom element should be separate with `checkable` in future\n\n      var $custom = typeof checkable !== 'boolean' ? checkable : null;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: (0, _classnames.default)(\"\".concat(prefixCls, \"-checkbox\"), checked && \"\".concat(prefixCls, \"-checkbox-checked\"), !checked && halfChecked && \"\".concat(prefixCls, \"-checkbox-indeterminate\"), (disabled || disableCheckbox) && \"\".concat(prefixCls, \"-checkbox-disabled\")),\n        onClick: _this.onCheck\n      }, $custom);\n    };\n\n    _this.renderIcon = function () {\n      var loading = _this.props.loading;\n      var prefixCls = _this.props.context.prefixCls;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: (0, _classnames.default)(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__\").concat(_this.getNodeState() || 'docu'), loading && \"\".concat(prefixCls, \"-icon_loading\"))\n      });\n    };\n\n    _this.renderSelector = function () {\n      var dragNodeHighlight = _this.state.dragNodeHighlight;\n      var _this$props5 = _this.props,\n          title = _this$props5.title,\n          selected = _this$props5.selected,\n          icon = _this$props5.icon,\n          loading = _this$props5.loading,\n          data = _this$props5.data;\n      var _this$props$context2 = _this.props.context,\n          prefixCls = _this$props$context2.prefixCls,\n          showIcon = _this$props$context2.showIcon,\n          treeIcon = _this$props$context2.icon,\n          draggable = _this$props$context2.draggable,\n          loadData = _this$props$context2.loadData,\n          titleRender = _this$props$context2.titleRender;\n\n      var disabled = _this.isDisabled();\n\n      var mergedDraggable = typeof draggable === 'function' ? draggable(data) : draggable;\n      var wrapClass = \"\".concat(prefixCls, \"-node-content-wrapper\"); // Icon - Still show loading icon when loading without showIcon\n\n      var $icon;\n\n      if (showIcon) {\n        var currentIcon = icon || treeIcon;\n        $icon = currentIcon ? /*#__PURE__*/React.createElement(\"span\", {\n          className: (0, _classnames.default)(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__customize\"))\n        }, typeof currentIcon === 'function' ? currentIcon(_this.props) : currentIcon) : _this.renderIcon();\n      } else if (loadData && loading) {\n        $icon = _this.renderIcon();\n      } // Title\n\n\n      var titleNode;\n\n      if (typeof title === 'function') {\n        titleNode = title(data);\n      } else if (titleRender) {\n        titleNode = titleRender(data);\n      } else {\n        titleNode = title;\n      }\n\n      var $title = /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-title\")\n      }, titleNode);\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: _this.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: (0, _classnames.default)(\"\".concat(wrapClass), \"\".concat(wrapClass, \"-\").concat(_this.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && \"\".concat(prefixCls, \"-node-selected\"), !disabled && mergedDraggable && 'draggable'),\n        draggable: !disabled && mergedDraggable || undefined,\n        \"aria-grabbed\": !disabled && mergedDraggable || undefined,\n        onMouseEnter: _this.onMouseEnter,\n        onMouseLeave: _this.onMouseLeave,\n        onContextMenu: _this.onContextMenu,\n        onClick: _this.onSelectorClick,\n        onDoubleClick: _this.onSelectorDoubleClick,\n        onDragStart: mergedDraggable ? _this.onDragStart : undefined\n      }, $icon, $title, _this.renderDropIndicator());\n    };\n\n    _this.renderDropIndicator = function () {\n      var _this$props6 = _this.props,\n          disabled = _this$props6.disabled,\n          eventKey = _this$props6.eventKey;\n      var _this$props$context3 = _this.props.context,\n          draggable = _this$props$context3.draggable,\n          dropLevelOffset = _this$props$context3.dropLevelOffset,\n          dropPosition = _this$props$context3.dropPosition,\n          prefixCls = _this$props$context3.prefixCls,\n          indent = _this$props$context3.indent,\n          dropIndicatorRender = _this$props$context3.dropIndicatorRender,\n          dragOverNodeKey = _this$props$context3.dragOverNodeKey,\n          direction = _this$props$context3.direction;\n      var mergedDraggable = draggable !== false; // allowDrop is calculated in Tree.tsx, there is no need for calc it here\n\n      var showIndicator = !disabled && mergedDraggable && dragOverNodeKey === eventKey;\n      return showIndicator ? dropIndicatorRender({\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        indent: indent,\n        prefixCls: prefixCls,\n        direction: direction\n      }) : null;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InternalTreeNode, [{\n    key: \"componentDidMount\",\n    value: // Isomorphic needn't load data in server side\n    function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"isSelectable\",\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.props.context.selectable; // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props7 = this.props,\n          eventKey = _this$props7.eventKey,\n          className = _this$props7.className,\n          style = _this$props7.style,\n          dragOver = _this$props7.dragOver,\n          dragOverGapTop = _this$props7.dragOverGapTop,\n          dragOverGapBottom = _this$props7.dragOverGapBottom,\n          isLeaf = _this$props7.isLeaf,\n          isStart = _this$props7.isStart,\n          isEnd = _this$props7.isEnd,\n          expanded = _this$props7.expanded,\n          selected = _this$props7.selected,\n          checked = _this$props7.checked,\n          halfChecked = _this$props7.halfChecked,\n          loading = _this$props7.loading,\n          domRef = _this$props7.domRef,\n          active = _this$props7.active,\n          data = _this$props7.data,\n          onMouseMove = _this$props7.onMouseMove,\n          otherProps = (0, _objectWithoutProperties2.default)(_this$props7, _excluded);\n      var _this$props$context4 = this.props.context,\n          prefixCls = _this$props$context4.prefixCls,\n          filterTreeNode = _this$props$context4.filterTreeNode,\n          draggable = _this$props$context4.draggable,\n          keyEntities = _this$props$context4.keyEntities,\n          dropContainerKey = _this$props$context4.dropContainerKey,\n          dropTargetKey = _this$props$context4.dropTargetKey;\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = (0, _util.getDataAndAria)(otherProps);\n\n      var _ref2 = keyEntities[eventKey] || {},\n          level = _ref2.level;\n\n      var isEndNode = isEnd[isEnd.length - 1];\n      var mergedDraggable = typeof draggable === 'function' ? draggable(data) : draggable;\n      return /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({\n        ref: domRef,\n        className: (0, _classnames.default)(className, \"\".concat(prefixCls, \"-treenode\"), (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-disabled\"), disabled), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-switcher-\").concat(expanded ? 'open' : 'close'), !isLeaf), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-checked\"), checked), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-indeterminate\"), halfChecked), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-selected\"), selected), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-loading\"), loading), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-active\"), active), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-leaf-last\"), isEndNode), (0, _defineProperty2.default)(_classNames, 'drop-target', dropTargetKey === eventKey), (0, _defineProperty2.default)(_classNames, 'drop-container', dropContainerKey === eventKey), (0, _defineProperty2.default)(_classNames, 'drag-over', !disabled && dragOver), (0, _defineProperty2.default)(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), (0, _defineProperty2.default)(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), (0, _defineProperty2.default)(_classNames, 'filter-node', filterTreeNode && filterTreeNode((0, _treeUtil.convertNodePropsToEventData)(this.props))), _classNames)),\n        style: style,\n        onDragEnter: mergedDraggable ? this.onDragEnter : undefined,\n        onDragOver: mergedDraggable ? this.onDragOver : undefined,\n        onDragLeave: mergedDraggable ? this.onDragLeave : undefined,\n        onDrop: mergedDraggable ? this.onDrop : undefined,\n        onDragEnd: mergedDraggable ? this.onDragEnd : undefined,\n        onMouseMove: onMouseMove\n      }, dataOrAriaAttributeProps), /*#__PURE__*/React.createElement(_Indent.default, {\n        prefixCls: prefixCls,\n        level: level,\n        isStart: isStart,\n        isEnd: isEnd\n      }), this.renderSwitcher(), this.renderCheckbox(), this.renderSelector());\n    }\n  }]);\n  return InternalTreeNode;\n}(React.Component);\n\nexports.InternalTreeNode = InternalTreeNode;\n\nvar ContextTreeNode = function ContextTreeNode(props) {\n  return /*#__PURE__*/React.createElement(_contextTypes.TreeContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(InternalTreeNode, (0, _extends2.default)({}, props, {\n      context: context\n    }));\n  });\n};\n\nContextTreeNode.displayName = 'TreeNode';\nContextTreeNode.defaultProps = {\n  title: defaultTitle\n};\nContextTreeNode.isTreeNode = 1;\nvar _default = ContextTreeNode;\nexports.default = _default;","map":{"version":3,"sources":["H:/lose/node_modules/rc-tree/lib/TreeNode.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","InternalTreeNode","_extends2","_defineProperty2","_objectWithoutProperties2","_objectSpread2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_createSuper2","React","_classnames","_contextTypes","_util","_Indent","_treeUtil","_excluded","ICON_OPEN","ICON_CLOSE","defaultTitle","_React$Component","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","dragNodeHighlight","selectHandle","onSelectorClick","e","onNodeClick","props","context","convertNodePropsToEventData","isSelectable","onSelect","onCheck","onSelectorDoubleClick","onNodeDoubleClick","isDisabled","onNodeSelect","preventDefault","_this$props","disableCheckbox","checked","onNodeCheck","isCheckable","targetChecked","onMouseEnter","onNodeMouseEnter","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onDragStart","onNodeDragStart","stopPropagation","setState","dataTransfer","setData","error","onDragEnter","onNodeDragEnter","onDragOver","onNodeDragOver","onDragLeave","onNodeDragLeave","onDragEnd","onNodeDragEnd","onDrop","onNodeDrop","onExpand","_this$props2","loading","onNodeExpand","setSelectHandle","node","getNodeState","expanded","isLeaf","hasChildren","eventKey","keyEntities","_ref","children","_this$props3","loaded","loadData","disabled","treeDisabled","checkable","treeCheckable","syncLoadData","_this$props$context","onNodeLoad","renderSwitcherIconDom","switcherIconFromProps","switcherIcon","switcherIconFromCtx","renderSwitcher","prefixCls","_switcherIconDom","createElement","className","switcherCls","switcherIconDom","onClick","renderCheckbox","_this$props4","halfChecked","$custom","renderIcon","renderSelector","_this$props5","title","selected","icon","data","_this$props$context2","showIcon","treeIcon","draggable","titleRender","mergedDraggable","wrapClass","$icon","currentIcon","titleNode","$title","ref","undefined","onDoubleClick","renderDropIndicator","_this$props6","_this$props$context3","dropLevelOffset","dropPosition","indent","dropIndicatorRender","dragOverNodeKey","direction","showIndicator","key","componentDidMount","componentDidUpdate","selectable","treeSelectable","render","_classNames","_this$props7","style","dragOver","dragOverGapTop","dragOverGapBottom","isStart","isEnd","domRef","active","onMouseMove","otherProps","_this$props$context4","filterTreeNode","dropContainerKey","dropTargetKey","dataOrAriaAttributeProps","getDataAndAria","_ref2","level","isEndNode","Component","ContextTreeNode","TreeContext","Consumer","displayName","defaultProps","isTreeNode","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.InternalTreeNode = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _contextTypes = require(\"./contextTypes\");\n\nvar _util = require(\"./util\");\n\nvar _Indent = _interopRequireDefault(require(\"./Indent\"));\n\nvar _treeUtil = require(\"./utils/treeUtil\");\n\nvar _excluded = [\"eventKey\", \"className\", \"style\", \"dragOver\", \"dragOverGapTop\", \"dragOverGapBottom\", \"isLeaf\", \"isStart\", \"isEnd\", \"expanded\", \"selected\", \"checked\", \"halfChecked\", \"loading\", \"domRef\", \"active\", \"data\", \"onMouseMove\"];\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\nvar defaultTitle = '---';\n\nvar InternalTreeNode = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(InternalTreeNode, _React$Component);\n\n  var _super = (0, _createSuper2.default)(InternalTreeNode);\n\n  function InternalTreeNode() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InternalTreeNode);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    _this.selectHandle = void 0;\n\n    _this.onSelectorClick = function (e) {\n      // Click trigger before select/check operation\n      var onNodeClick = _this.props.context.onNodeClick;\n      onNodeClick(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n\n      if (_this.isSelectable()) {\n        _this.onSelect(e);\n      } else {\n        _this.onCheck(e);\n      }\n    };\n\n    _this.onSelectorDoubleClick = function (e) {\n      var onNodeDoubleClick = _this.props.context.onNodeDoubleClick;\n      onNodeDoubleClick(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onSelect = function (e) {\n      if (_this.isDisabled()) return;\n      var onNodeSelect = _this.props.context.onNodeSelect;\n      e.preventDefault();\n      onNodeSelect(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onCheck = function (e) {\n      if (_this.isDisabled()) return;\n      var _this$props = _this.props,\n          disableCheckbox = _this$props.disableCheckbox,\n          checked = _this$props.checked;\n      var onNodeCheck = _this.props.context.onNodeCheck;\n      if (!_this.isCheckable() || disableCheckbox) return;\n      e.preventDefault();\n      var targetChecked = !checked;\n      onNodeCheck(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props), targetChecked);\n    };\n\n    _this.onMouseEnter = function (e) {\n      var onNodeMouseEnter = _this.props.context.onNodeMouseEnter;\n      onNodeMouseEnter(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onMouseLeave = function (e) {\n      var onNodeMouseLeave = _this.props.context.onNodeMouseLeave;\n      onNodeMouseLeave(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onContextMenu = function (e) {\n      var onNodeContextMenu = _this.props.context.onNodeContextMenu;\n      onNodeContextMenu(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.onDragStart = function (e) {\n      var onNodeDragStart = _this.props.context.onNodeDragStart;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: true\n      });\n\n      onNodeDragStart(e, (0, _assertThisInitialized2.default)(_this));\n\n      try {\n        // ie throw error\n        // firefox-need-it\n        e.dataTransfer.setData('text/plain', '');\n      } catch (error) {// empty\n      }\n    };\n\n    _this.onDragEnter = function (e) {\n      var onNodeDragEnter = _this.props.context.onNodeDragEnter;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragEnter(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDragOver = function (e) {\n      var onNodeDragOver = _this.props.context.onNodeDragOver;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragOver(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDragLeave = function (e) {\n      var onNodeDragLeave = _this.props.context.onNodeDragLeave;\n      e.stopPropagation();\n      onNodeDragLeave(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDragEnd = function (e) {\n      var onNodeDragEnd = _this.props.context.onNodeDragEnd;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDragEnd(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onDrop = function (e) {\n      var onNodeDrop = _this.props.context.onNodeDrop;\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDrop(e, (0, _assertThisInitialized2.default)(_this));\n    };\n\n    _this.onExpand = function (e) {\n      var _this$props2 = _this.props,\n          loading = _this$props2.loading,\n          onNodeExpand = _this$props2.context.onNodeExpand;\n      if (loading) return;\n      onNodeExpand(e, (0, _treeUtil.convertNodePropsToEventData)(_this.props));\n    };\n\n    _this.setSelectHandle = function (node) {\n      _this.selectHandle = node;\n    };\n\n    _this.getNodeState = function () {\n      var expanded = _this.props.expanded;\n\n      if (_this.isLeaf()) {\n        return null;\n      }\n\n      return expanded ? ICON_OPEN : ICON_CLOSE;\n    };\n\n    _this.hasChildren = function () {\n      var eventKey = _this.props.eventKey;\n      var keyEntities = _this.props.context.keyEntities;\n\n      var _ref = keyEntities[eventKey] || {},\n          children = _ref.children;\n\n      return !!(children || []).length;\n    };\n\n    _this.isLeaf = function () {\n      var _this$props3 = _this.props,\n          isLeaf = _this$props3.isLeaf,\n          loaded = _this$props3.loaded;\n      var loadData = _this.props.context.loadData;\n\n      var hasChildren = _this.hasChildren();\n\n      if (isLeaf === false) {\n        return false;\n      }\n\n      return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n    };\n\n    _this.isDisabled = function () {\n      var disabled = _this.props.disabled;\n      var treeDisabled = _this.props.context.disabled;\n      return !!(treeDisabled || disabled);\n    };\n\n    _this.isCheckable = function () {\n      var checkable = _this.props.checkable;\n      var treeCheckable = _this.props.context.checkable; // Return false if tree or treeNode is not checkable\n\n      if (!treeCheckable || checkable === false) return false;\n      return treeCheckable;\n    };\n\n    _this.syncLoadData = function (props) {\n      var expanded = props.expanded,\n          loading = props.loading,\n          loaded = props.loaded;\n      var _this$props$context = _this.props.context,\n          loadData = _this$props$context.loadData,\n          onNodeLoad = _this$props$context.onNodeLoad;\n\n      if (loading) {\n        return;\n      }\n\n      ; // read from state to avoid loadData at same time\n\n      if (loadData && expanded && !_this.isLeaf()) {\n        // We needn't reload data when has children in sync logic\n        // It's only needed in node expanded\n        if (!_this.hasChildren() && !loaded) {\n          onNodeLoad((0, _treeUtil.convertNodePropsToEventData)(_this.props));\n        }\n      }\n    };\n\n    _this.renderSwitcherIconDom = function (isLeaf) {\n      var switcherIconFromProps = _this.props.switcherIcon;\n      var switcherIconFromCtx = _this.props.context.switcherIcon;\n      var switcherIcon = switcherIconFromProps || switcherIconFromCtx; // if switcherIconDom is null, no render switcher span\n\n      if (typeof switcherIcon === 'function') {\n        return switcherIcon((0, _objectSpread2.default)((0, _objectSpread2.default)({}, _this.props), {}, {\n          isLeaf: isLeaf\n        }));\n      }\n\n      return switcherIcon;\n    };\n\n    _this.renderSwitcher = function () {\n      var expanded = _this.props.expanded;\n      var prefixCls = _this.props.context.prefixCls;\n\n      if (_this.isLeaf()) {\n        // if switcherIconDom is null, no render switcher span\n        var _switcherIconDom = _this.renderSwitcherIconDom(true);\n\n        return _switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n          className: (0, _classnames.default)(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher-noop\"))\n        }, _switcherIconDom) : null;\n      }\n\n      var switcherCls = (0, _classnames.default)(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher_\").concat(expanded ? ICON_OPEN : ICON_CLOSE));\n\n      var switcherIconDom = _this.renderSwitcherIconDom(false);\n\n      return switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: _this.onExpand,\n        className: switcherCls\n      }, switcherIconDom) : null;\n    };\n\n    _this.renderCheckbox = function () {\n      var _this$props4 = _this.props,\n          checked = _this$props4.checked,\n          halfChecked = _this$props4.halfChecked,\n          disableCheckbox = _this$props4.disableCheckbox;\n      var prefixCls = _this.props.context.prefixCls;\n\n      var disabled = _this.isDisabled();\n\n      var checkable = _this.isCheckable();\n\n      if (!checkable) return null; // [Legacy] Custom element should be separate with `checkable` in future\n\n      var $custom = typeof checkable !== 'boolean' ? checkable : null;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: (0, _classnames.default)(\"\".concat(prefixCls, \"-checkbox\"), checked && \"\".concat(prefixCls, \"-checkbox-checked\"), !checked && halfChecked && \"\".concat(prefixCls, \"-checkbox-indeterminate\"), (disabled || disableCheckbox) && \"\".concat(prefixCls, \"-checkbox-disabled\")),\n        onClick: _this.onCheck\n      }, $custom);\n    };\n\n    _this.renderIcon = function () {\n      var loading = _this.props.loading;\n      var prefixCls = _this.props.context.prefixCls;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: (0, _classnames.default)(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__\").concat(_this.getNodeState() || 'docu'), loading && \"\".concat(prefixCls, \"-icon_loading\"))\n      });\n    };\n\n    _this.renderSelector = function () {\n      var dragNodeHighlight = _this.state.dragNodeHighlight;\n      var _this$props5 = _this.props,\n          title = _this$props5.title,\n          selected = _this$props5.selected,\n          icon = _this$props5.icon,\n          loading = _this$props5.loading,\n          data = _this$props5.data;\n      var _this$props$context2 = _this.props.context,\n          prefixCls = _this$props$context2.prefixCls,\n          showIcon = _this$props$context2.showIcon,\n          treeIcon = _this$props$context2.icon,\n          draggable = _this$props$context2.draggable,\n          loadData = _this$props$context2.loadData,\n          titleRender = _this$props$context2.titleRender;\n\n      var disabled = _this.isDisabled();\n\n      var mergedDraggable = typeof draggable === 'function' ? draggable(data) : draggable;\n      var wrapClass = \"\".concat(prefixCls, \"-node-content-wrapper\"); // Icon - Still show loading icon when loading without showIcon\n\n      var $icon;\n\n      if (showIcon) {\n        var currentIcon = icon || treeIcon;\n        $icon = currentIcon ? /*#__PURE__*/React.createElement(\"span\", {\n          className: (0, _classnames.default)(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__customize\"))\n        }, typeof currentIcon === 'function' ? currentIcon(_this.props) : currentIcon) : _this.renderIcon();\n      } else if (loadData && loading) {\n        $icon = _this.renderIcon();\n      } // Title\n\n\n      var titleNode;\n\n      if (typeof title === 'function') {\n        titleNode = title(data);\n      } else if (titleRender) {\n        titleNode = titleRender(data);\n      } else {\n        titleNode = title;\n      }\n\n      var $title = /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-title\")\n      }, titleNode);\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: _this.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: (0, _classnames.default)(\"\".concat(wrapClass), \"\".concat(wrapClass, \"-\").concat(_this.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && \"\".concat(prefixCls, \"-node-selected\"), !disabled && mergedDraggable && 'draggable'),\n        draggable: !disabled && mergedDraggable || undefined,\n        \"aria-grabbed\": !disabled && mergedDraggable || undefined,\n        onMouseEnter: _this.onMouseEnter,\n        onMouseLeave: _this.onMouseLeave,\n        onContextMenu: _this.onContextMenu,\n        onClick: _this.onSelectorClick,\n        onDoubleClick: _this.onSelectorDoubleClick,\n        onDragStart: mergedDraggable ? _this.onDragStart : undefined\n      }, $icon, $title, _this.renderDropIndicator());\n    };\n\n    _this.renderDropIndicator = function () {\n      var _this$props6 = _this.props,\n          disabled = _this$props6.disabled,\n          eventKey = _this$props6.eventKey;\n      var _this$props$context3 = _this.props.context,\n          draggable = _this$props$context3.draggable,\n          dropLevelOffset = _this$props$context3.dropLevelOffset,\n          dropPosition = _this$props$context3.dropPosition,\n          prefixCls = _this$props$context3.prefixCls,\n          indent = _this$props$context3.indent,\n          dropIndicatorRender = _this$props$context3.dropIndicatorRender,\n          dragOverNodeKey = _this$props$context3.dragOverNodeKey,\n          direction = _this$props$context3.direction;\n      var mergedDraggable = draggable !== false; // allowDrop is calculated in Tree.tsx, there is no need for calc it here\n\n      var showIndicator = !disabled && mergedDraggable && dragOverNodeKey === eventKey;\n      return showIndicator ? dropIndicatorRender({\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        indent: indent,\n        prefixCls: prefixCls,\n        direction: direction\n      }) : null;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InternalTreeNode, [{\n    key: \"componentDidMount\",\n    value: // Isomorphic needn't load data in server side\n    function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"isSelectable\",\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.props.context.selectable; // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props7 = this.props,\n          eventKey = _this$props7.eventKey,\n          className = _this$props7.className,\n          style = _this$props7.style,\n          dragOver = _this$props7.dragOver,\n          dragOverGapTop = _this$props7.dragOverGapTop,\n          dragOverGapBottom = _this$props7.dragOverGapBottom,\n          isLeaf = _this$props7.isLeaf,\n          isStart = _this$props7.isStart,\n          isEnd = _this$props7.isEnd,\n          expanded = _this$props7.expanded,\n          selected = _this$props7.selected,\n          checked = _this$props7.checked,\n          halfChecked = _this$props7.halfChecked,\n          loading = _this$props7.loading,\n          domRef = _this$props7.domRef,\n          active = _this$props7.active,\n          data = _this$props7.data,\n          onMouseMove = _this$props7.onMouseMove,\n          otherProps = (0, _objectWithoutProperties2.default)(_this$props7, _excluded);\n      var _this$props$context4 = this.props.context,\n          prefixCls = _this$props$context4.prefixCls,\n          filterTreeNode = _this$props$context4.filterTreeNode,\n          draggable = _this$props$context4.draggable,\n          keyEntities = _this$props$context4.keyEntities,\n          dropContainerKey = _this$props$context4.dropContainerKey,\n          dropTargetKey = _this$props$context4.dropTargetKey;\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = (0, _util.getDataAndAria)(otherProps);\n\n      var _ref2 = keyEntities[eventKey] || {},\n          level = _ref2.level;\n\n      var isEndNode = isEnd[isEnd.length - 1];\n      var mergedDraggable = typeof draggable === 'function' ? draggable(data) : draggable;\n      return /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({\n        ref: domRef,\n        className: (0, _classnames.default)(className, \"\".concat(prefixCls, \"-treenode\"), (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-disabled\"), disabled), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-switcher-\").concat(expanded ? 'open' : 'close'), !isLeaf), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-checked\"), checked), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-indeterminate\"), halfChecked), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-selected\"), selected), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-loading\"), loading), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-active\"), active), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-treenode-leaf-last\"), isEndNode), (0, _defineProperty2.default)(_classNames, 'drop-target', dropTargetKey === eventKey), (0, _defineProperty2.default)(_classNames, 'drop-container', dropContainerKey === eventKey), (0, _defineProperty2.default)(_classNames, 'drag-over', !disabled && dragOver), (0, _defineProperty2.default)(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), (0, _defineProperty2.default)(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), (0, _defineProperty2.default)(_classNames, 'filter-node', filterTreeNode && filterTreeNode((0, _treeUtil.convertNodePropsToEventData)(this.props))), _classNames)),\n        style: style,\n        onDragEnter: mergedDraggable ? this.onDragEnter : undefined,\n        onDragOver: mergedDraggable ? this.onDragOver : undefined,\n        onDragLeave: mergedDraggable ? this.onDragLeave : undefined,\n        onDrop: mergedDraggable ? this.onDrop : undefined,\n        onDragEnd: mergedDraggable ? this.onDragEnd : undefined,\n        onMouseMove: onMouseMove\n      }, dataOrAriaAttributeProps), /*#__PURE__*/React.createElement(_Indent.default, {\n        prefixCls: prefixCls,\n        level: level,\n        isStart: isStart,\n        isEnd: isEnd\n      }), this.renderSwitcher(), this.renderCheckbox(), this.renderSelector());\n    }\n  }]);\n  return InternalTreeNode;\n}(React.Component);\n\nexports.InternalTreeNode = InternalTreeNode;\n\nvar ContextTreeNode = function ContextTreeNode(props) {\n  return /*#__PURE__*/React.createElement(_contextTypes.TreeContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(InternalTreeNode, (0, _extends2.default)({}, props, {\n      context: context\n    }));\n  });\n};\n\nContextTreeNode.displayName = 'TreeNode';\nContextTreeNode.defaultProps = {\n  title: defaultTitle\n};\nContextTreeNode.isTreeNode = 1;\nvar _default = ContextTreeNode;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}